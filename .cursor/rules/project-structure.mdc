---
alwaysApply: false
---
# Project Structure Guide

This repository is organized into three primary components as outlined in [docs/plan.md](mdc:docs/plan.md):

1. **`backend/`** – Python "brain" (Agent)
   • Entry point: `backend/main.py`  
   • Agent-side WebSocket client & tool definitions live here.  
   • Uses the OpenAI Agents SDK – see the `openai-agent` docs for details.

2. **`bridge/`** – Bun-powered WebSocket message router (will eventually replace top-level `socket.ts`).  
   • Entry point: `bridge/index.ts`.  
   • Forwards messages between the Figma plugin (`role: plugin`) and the Python agent (`role: agent`).

3. **`plugin/`** – Figma plugin bundle  
   • UI: `plugin/ui.html` (runs in an `<iframe>`).  
   • Plugin code: `plugin/code.js` (runs in the Figma sandbox).

Relevant auxiliary paths:
• `docs/plan.md` – phased implementation plan (Phases 0-3).  
• `Dockerfile` – single container running both bridge and agent.  
• `scripts/dev.sh` – convenience script to build & run the container.

Use this hierarchy when searching for files:
```
backend/*      →  Agent logic & tools
bridge/*       →  WebSocket router
plugin/*       →  Figma UI & plugin runtime
```

When adding new features, ensure they land in the correct component.